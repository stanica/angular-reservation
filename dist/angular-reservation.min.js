!function(){angular.module("hm.reservation",["ui.bootstrap","pascalprecht.translate","ngMessages"])}(),function(){function e(){var e={getDetailsUrl:"http://localhost:8080/getDetails",getAvailableHoursAPIUrl:"http://localhost:8080/availableHours",holdSlotAPIUrl:"http://localhost:8080/hold",reserveAPIUrl:"http://localhost:8080/reserve",dateFormat:"yyyy-MM-dd",language:"en",showConfirmationModal:!0,datepickerTemplate:"datepicker.html",availableHoursTemplate:"availableHours.html",noAvailableHoursTemplate:"noAvailableHours.html",clientFormTemplate:"clientForm.html",confirmationModalTemplate:"confirmationModal.html"};return{$get:function(){return e},set:function(r){angular.extend(e,r)}}}angular.module("hm.reservation").provider("reservationConfig",[e])}(),function(){function e(e,r,t,n,a,s,i,o,l,d){function c(e){if("bookeo"===h.vendor){var r={};h.totalSelectedPeople=0;for(var t=0;t<h.details.length;t++)r[h.details[t].id]=h.details[t].selected,h.totalSelectedPeople+=h.details[t].selected;e.people=r}h.loader=!0,h.availableHours="",m(e)}function u(e){if("bookeo"===h.vendor){for(var r={},n=0;n<h.details.length;n++)r[h.details[n].id]=h.details[n].selected;e.people=r}var a=t("date")(h.selectedDate,h.dateFormat);s.hodl({apiKey:h.apiKey,vendor:h.vendor,id:h.id,date:a,externalId:h.externalId,eventId:e.eventId,people:e.people}).then(function(e){h.selectedTab=2,h.hold=s.hold,h.loader=!1,h.thirdTabLocked=!1})}function m(e){var r=t("date")(e.date,h.dateFormat);e.date=r,s.getVendorAvailableHours(e).then(function(e){h.loader=!1;var r=h.availableHoursStatus=s.status||"";h.availableHoursMessage=s.message||"";h.availableHours=s.availableHours.filter(function(e){return e.numSeatsAvailable>=h.totalSelectedPeople}),"SUCCESS"==r.toUpperCase()})}function v(t,n,a){var s=JSON.parse(h.variant),i=JSON.parse(h.product);o.onBeforeReserve(t,n,a).then(function(){r.cart.addItem({sku:s.experienceSku,businessId:i.businessId,name:s.name,slug:i.slug,mrp:s.mrp,price:s.price,quantity:1,image:s.image,category:i.category,currency:h.hold.totalPayable.currency,partner:i},!0,!1);for(var o={afterTax:parseFloat(h.hold.totalPayable.amount),charge:0,couponAmount:0,more:999999,tax:(h.hold.price.totalTaxes.amount/h.hold.price.totalNet.amount).toFixed(2),total:parseFloat(h.hold.price.totalNet.amount),holdId:h.hold.id},c=[],u=0;u<h.details.length;u++)h.details[u].selected>0&&c.push({name:h.details[u].name,quantity:h.details[u].selected,price:h.details[u].price.amount});var m={tax:r.cart.taxes[i.address.region],businessId:i.businessId,currency:h.hold.totalPayable.currency,phone:a.phone,name:a.firstName+" "+a.lastName,payment:"Stripe",items:r.cart.items,shipping:o,email:a.email,people:c};l.widget.save(m,function(e){var s={};s.status={},s.status.name="Bookeo Stripe Modal Incomplete",s.status.val=150,s.phone=a.phone,l.widget.updateStatus.update({id:e.transactionId},s);var i={};d.active.query().$promise.then(function(s){for(var l=0;l<s.length;l++)"Stripe"===s[l].name&&(i=s[l]);r.cart.checkout({paymentMethod:i,transactionId:e.transactionId,email:a.email,currency:r.cart.items[0].currency,options:o},!0,function(r){if("Error"===r.status){h.reservationStatus=r.status,h.reservationMessage=r.message}else if("succeeded"===r.status)g(t,n,a,e.transactionId);else{h.reservationStatus=r.status,h.reservationMessage=r.message}})})},function(r){e.err="There was an error confirming your purchase. Try refreshing the page or send us an email. Sorry about that!"})},function(){console.log("onBeforeReserve: Rejected promise")})}function p(){h.hold.id&&(s.cancelHold({apiKey:h.apiKey,id:h.hold.id,vendor:h.vendor}).then(function(){}),h.hold="")}function g(e,r,a,i){h.loader=!0;var l=t("date")(e,h.dateFormat),d={};if("bookeo"===h.vendor)for(var c=0;c<h.details.length;c++)d[h.details[c].id]={selected:h.details[c].selected,price:h.details[c].price.amount};console.log(d);var u={transactionId:i,selectedDate:l,selectedHour:r,userData:a,holdId:h.hold.id,timeSlot:h.selectedSlot,apiKey:h.apiKey,vendor:h.vendor,id:h.id,externalId:h.externalId,people:d,title:h.details[0].title};s.reserve(u).then(function(){h.loader=!1;var t=h.reservationStatus=s.status,i=h.reservationMessage=s.message;"Success"===t?(o.onCompletedReserve(t,i,e,r,a),n.location="/purchase-complete"):o.onErrorReserve(t,i,e,r,a)})}var h=this;h.selectedTab=0,h.secondTabLocked=!0,h.thirdTabLocked=!0,h.showSummary=!1;var f=new Date;f.setHours(0,0,0,0),h.selectedDate=f,h.selectedHour="",h.selectedSlot="",h.details="",h.hold="",h.total=0,h.totalSelectedPeople=0,h.userData={},h.loader=!1,h.dateFormat=i.dateFormat,h.datepickerTemplate=i.datepickerTemplate,h.availableHoursTemplate=i.availableHoursTemplate,h.noAvailableHoursTemplate=i.noAvailableHoursTemplate,h.clientFormTemplate=i.clientFormTemplate,h.datepickerOptions=e.datepickerOptions,h.apiKey=e.apiKey,h.vendor=e.vendor,h.id=e.id,h.externalId=e.externalId,h.product=e.product,h.variant=e.variant,a.use(i.language),h.userData.firstName="Stop Your",h.userData.lastName="Sniffles",h.userData.phone="4165550000",h.userData.email="robertstanica@gmail.com",h.onSelectDate=function(e){h.selectedDate=e,h.secondTabLocked=!1,h.selectedTab=1,c({apiKey:h.apiKey,vendor:h.vendor,id:h.id,date:e,externalId:h.externalId})},h.selectHour=function(e){p(),h.loader=!0,h.selectedHour=new Date(e.startTime.replace("T"," ").slice(0,-6)),h.selectedHour=t("date")(h.selectedHour,"shortTime"),h.selectedSlot=e,u(e)},h.reserve=function(e,r,t){v(e,r,t)},h.setSummary=function(e){h.showSummary=e,e||(h.selectedTab=0)},h.getDetails=function(){h.loader=!0,s.getDetails({apiKey:h.apiKey,vendor:h.vendor,id:h.id,externalId:h.externalId}).then(function(){h.details=s.details,h.loader=!1})},h.getTotal=function(){for(var e=0,r=0;r<h.details.length;r++)e+=h.details[r].selected*h.details[r].price.amount;return e},h.range=function(e,r,t){t=t||1;for(var n=[],a=e;a<=r;a+=t)n.push(a);return n}}angular.module("hm.reservation").controller("ReservationCtrl",["$scope","$rootScope","$filter","$window","$translate","reservationAPIFactory","reservationConfig","reservationService","Order","PaymentMethod",e])}(),function(){angular.module("hm.reservation").directive("reservation",[function(){return{restrict:"E",scope:{datepickerOptions:"=",apiKey:"@",vendor:"@",id:"@",externalId:"@",product:"@",variant:"@",customMonth:"&"},controller:"ReservationCtrl",controllerAs:"reservationCtrl",templateUrl:"index.html"}}])}(),function(){function e(e,r){function t(){s.status="",s.message="",s.availableHours=""}function n(e){e.hasOwnProperty("status")||console.error("Get available hours response should have a 'status' key"),e.hasOwnProperty("message")||console.error("Get available hours response should have a 'message' key"),e.hasOwnProperty("availableHours")||console.error("Get available hours response should have a 'availableHours' key")}function a(e){e.hasOwnProperty("status")||console.error("Reserve response should have a 'status' key"),e.hasOwnProperty("message")||console.error("Reserve response should have a 'message' key")}var s={};return s.status="",s.message="",s.details="",s.availableHours="",s.hold="",s.getDetails=function(t){return e({method:"POST",data:t,url:r.getDetailsUrl,responseType:"json"}).then(function(e){s.status=e.data.status,s.details=e.data},function(e){s.errorManagement(e.status)})},s.getAvailableHours=function(t){return e({method:"GET",params:t,url:r.getAvailableHoursAPIUrl,responseType:"json"}).then(function(e){n(e.data),s.status=e.data.status,s.message=e.data.message,s.availableHours=e.data.availableHours},function(e){s.errorManagement(e.status)})},s.getVendorAvailableHours=function(t){return e({method:"POST",data:t,url:r.getAvailableHoursAPIUrl,responseType:"json"}).then(function(e){s.status=e.data.status||"",s.message=e.data.message||"",s.availableHours=e.data.data},function(e){s.errorManagement(e.status)})},s.hodl=function(t){return e({method:"POST",data:t,url:r.holdSlotAPIUrl,responseType:"json"}).then(function(e){s.hold=e.data},function(e){s.errorManagement(e.status)})},s.cancelHold=function(t){return e({method:"PUT",data:t,url:r.holdSlotAPIUrl,responseType:"json"}).then(function(e){},function(e){s.errorManagement(e.status)})},s.reserve=function(t){return e({method:"POST",data:t,url:r.reserveAPIUrl,responseType:"json"}).then(function(e){a(e.data),s.status=e.data.status,s.message=e.data.message},function(e){s.errorManagement(e.status)})},s.errorManagement=function(e){switch(t(),e){case 500:s.status="SERVER_ERROR";break;default:s.status="CONNECTION_ERROR"}},s}angular.module("hm.reservation").filter("ignoreTimeZone",function(){return function(e){var r=new Date(e.replace("T"," ").slice(0,-6));return r}}),angular.module("hm.reservation").factory("reservationAPIFactory",["$http","reservationConfig",e])}(),function(){function e(e,r,t,n){function a(e,a,i,o){var l=t.open({templateUrl:n.confirmationModalTemplate,size:"sm",controller:["selectedDate","selectedHour","userData",s],controllerAs:"confirmationModalCtrl",resolve:{selectedDate:function(){return r("date")(a,n.dateFormat)},selectedHour:function(){return i},userData:function(){return o}}});l.result.then(function(){e.resolve()},function(){e.reject()})}function s(e,r,t){var n=this;n.selectedDate=e,n.selectedHour=r,n.userData=t,n.translationParams={name:t.firstName+" "+t.lastName,selectedDate:e,selectedHour:r}}this.onBeforeGetAvailableHours=function(r){var t=e.defer();return t.resolve(),t.promise},this.onCompletedGetAvailableHours=function(e,r,t){},this.onSuccessfulGetAvailableHours=function(e,r,t,n){},this.onErrorGetAvailableHours=function(e,r,t){},this.onBeforeReserve=function(r,t,s){var i=e.defer();return n.showConfirmationModal?a(i,r,t,s):i.resolve(),i.promise},this.onCompletedReserve=function(e,r,t,n,a){},this.onSuccessfulReserve=function(e,r,t,n,a){},this.onErrorReserve=function(e,r,t,n,a){}}angular.module("hm.reservation").service("reservationService",["$q","$filter","$uibModal","reservationConfig",e])}(),function(){"use strict";angular.module("hm.reservation").config(["$translateProvider",function(e){e.translations("en",{date:"Date",time:"Time",client:"Customer",firstName:"First Name",lastName:"Last Name",finalPrice:"Final Price",save:"Save",cancel:"Cancel",select:"Select",phone:"Phone",email:"Email",required:"This field is required",minLength:"Minimum length of {{minLength}} is required",maxLength:"Maximum length of {{maxLength}} is required",invalidCharacters:"Not allowed characters",invalidPhone:"Invalid phone number",invalidEmail:"Invalid email address",reserve:"Continue",confirmOK:"Confirm & Pay",confirmCancel:"No, cancel",confirmTitle:"Confirm reservation",confirmText:"{{name}}, are you sure you want to reserve date {{selectedDate | date : 'shortDate'}} at {{selectedHour}}?",noAvailableHours:"There are no available hours for the selected date. Please select another date"}),e.translations("es",{date:"Fecha",time:"Hora",client:"Cliente",name:"Nombre",save:"Guardar",cancel:"Cancelar",select:"Seleccionar",phone:"Teléfono",email:"Email",required:"Este campo no puede estar vacío",minLength:"El número mínimo de carácteres es {{minLength}}",maxLength:"El número máximo de carácteres es {{maxLength}}",invalidCharacters:"Caracteres no permitidos",invalidPhone:"Número de teléfono no válido",invalidEmail:"Email no válido",reserve:"Reservar",confirmOK:"Sí, reservar",confirmCancel:"No, cancelar",confirmTitle:"Confirmar reserva",confirmText:"{{name}}, ¿Estás seguro de que deseas reservar el día {{selectedDate}} a las {{selectedHour}}?.",noAvailableHours:"No hay horas disponibles para la fecha seleccionada, por favor selecciona otra fecha"}),e.registerAvailableLanguageKeys(["es","en"],{"es_*":"es","en_*":"en"}),e.determinePreferredLanguage(),e.useSanitizeValueStrategy("escaped")}])}(),angular.module("hm.reservation").run(["$templateCache",function(e){e.put("availableHours.html",'<a class="list-group-item" ng-repeat="item in reservationCtrl.availableHours" ng-click="reservationCtrl.selectHour(item)"\r\n   ng-class="{\'angular-reservation-selected\': reservationCtrl.selectedHour == item}">\r\n    <div style="display:inline-block"><span>{{item.startTime | ignoreTimeZone | date  : \'shortTime\'}}</span></div>\r\n    <div style="display:inline-block;float:right"><span>{{item.numSeatsAvailable}} available</span></div>\r\n</a>'),e.put("clientForm.html",'<div class="col-md-12 angular-reservation-clientForm">\r\n    <div class="form-group col-md-12">\r\n        <label class="col-md-3 control-label" for="firstName">First Name</label>\r\n        <div class="col-md-9">\r\n            <div class="input-group">\r\n            <span class="input-group-addon">\r\n                <span class="glyphicon glyphicon-user" aria-hidden="true" style="font-size: 14px"></span>\r\n            </span>\r\n\r\n                <input id="firstName" name="firstName" class="form-control" placeholder="First Name" type="text" ng-model="reservationCtrl.userData.firstName"\r\n                       autofocus="true" ng-pattern="/^[\\w\\s\\-\\x7f-\\xff]*$/" ng-minlength="2" ng-maxlength="100" required>\r\n            </div>\r\n\r\n            <div class="help-block" ng-messages="reserveForm.firstName.$error" ng-if="reserveForm.$submitted">\r\n                <p ng-message="minlength" class="text-danger">{{"minLength" | translate: \'{minLength: "2"}\'}}</p>\r\n                <p ng-message="maxlength" class="text-danger">{{"maxLength" | translate: \'{maxLength: "100"}\'}}</p>\r\n                <p ng-message="pattern" class="text-danger">{{"invalidCharacters" | translate}}</p>\r\n                <p ng-message="required" class="text-danger">{{"required" | translate}}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group col-md-12">\r\n        <label class="col-md-3 control-label" for="lastName">Last Name</label>\r\n        <div class="col-md-9">\r\n            <div class="input-group">\r\n            <span class="input-group-addon">\r\n                <span class="glyphicon glyphicon-user" aria-hidden="true" style="font-size: 14px"></span>\r\n            </span>\r\n\r\n                <input id="lastName" name="lastName" class="form-control" placeholder="Last Name" type="text" ng-model="reservationCtrl.userData.lastName"\r\n                       autofocus="true" ng-pattern="/^[\\w\\s\\-\\x7f-\\xff]*$/" ng-minlength="2" ng-maxlength="100" required>\r\n            </div>\r\n\r\n            <div class="help-block" ng-messages="reserveForm.lastName.$error" ng-if="reserveForm.$submitted">\r\n                <p ng-message="minlength" class="text-danger">{{"minLength" | translate: \'{minLength: "2"}\'}}</p>\r\n                <p ng-message="maxlength" class="text-danger">{{"maxLength" | translate: \'{maxLength: "100"}\'}}</p>\r\n                <p ng-message="pattern" class="text-danger">{{"invalidCharacters" | translate}}</p>\r\n                <p ng-message="required" class="text-danger">{{"required" | translate}}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group col-md-12">\r\n        <label class="col-md-3 control-label" for="phone">{{"phone" | translate}}</label>\r\n        <div class="col-md-9">\r\n            <div class="input-group">\r\n            <span class="input-group-addon">\r\n                <span class="glyphicon glyphicon-earphone" aria-hidden="true" style="font-size: 14px"></span>\r\n            </span>\r\n\r\n                <input id="phone" name="phone" class="form-control" placeholder="{{\'phone\' | translate}}" type="tel" ng-model="reservationCtrl.userData.phone"\r\n                       ng-pattern="/^[0-9]*$/" ng-minlength="5" ng-maxlength="15" required>\r\n            </div>\r\n\r\n            <div class="help-block" ng-messages="reserveForm.phone.$error" ng-if="reserveForm.$submitted">\r\n                <p ng-message="minlength" class="text-danger">{{"minLength" | translate: \'{minLength: "5"}\'}}</p>\r\n                <p ng-message="maxlength" class="text-danger">{{"maxLength" | translate: \'{maxLength: "15"}\'}}</p>\r\n                <p ng-message="pattern" class="text-danger">{{"invalidPhone" | translate}}</p>\r\n                <p ng-message="required" class="text-danger">{{"required" | translate}}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group col-md-12">\r\n        <label class="col-md-3 control-label" for="email">{{"email" | translate}}</label>\r\n        <div class="col-md-9">\r\n            <div class="input-group">\r\n            <span class="input-group-addon">\r\n                <span class="glyphicon glyphicon-envelope" aria-hidden="true" style="font-size: 14px"></span>\r\n            </span>\r\n\r\n                <input id="email" name="email" class="form-control" placeholder="{{\'email\' | translate}}" type="text" ng-model="reservationCtrl.userData.email"\r\n                       ng-pattern="/[\\w|.|-]*@\\w*\\.[\\w|.]*/" required>\r\n            </div>\r\n\r\n            <div class="help-block" ng-messages="reserveForm.email.$error" ng-if="reserveForm.$submitted">\r\n                <p ng-message="pattern" class="text-danger">{{"invalidEmail" | translate}}</p>\r\n                <p ng-message="required" class="text-danger">{{"required" | translate}}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="col-md-12 text-center">\r\n        <button id="reserve" type="submit" name="reserve" class="btn btn-purchase">{{"reserve" | translate}}</button>\r\n    </div>\r\n\r\n    <div class="col-md-12">\r\n        <div uib-alert class="alert-success text-center" ng-if="reservationCtrl.reservationStatus == \'Success\'" style="margin-top: 1em">\r\n            <span>Success!</span>\r\n            <div ng-if="reservationCtrl.reservationMessage">{{reservationCtrl.reservationMessage}}</div>\r\n        </div>\r\n\r\n        <div uib-alert class="alert-danger text-center" ng-if="reservationCtrl.reservationStatus == \'Error\'" style="margin-top: 1em">\r\n            <div ng-if="reservationCtrl.reservationMessage">{{reservationCtrl.reservationMessage}}</div>\r\n            <span>Please contact your financial institution for support.</span>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("confirmationModal.html",'<div class="modal-header">\r\n    <h3 class="modal-title">{{"confirmTitle" | translate}}</h3>\r\n</div>\r\n\r\n<div class="modal-body">\r\n    <h5>{{"confirmText" | translate : confirmationModalCtrl.translationParams}}</h5>\r\n\r\n    <div ng-repeat="(key, value) in confirmationModalCtrl.userData track by $index" ng-if="key !== \'transactionId\'">\r\n        <label class="control-label text-muted">{{key | translate}}:</label>\r\n\t\t\r\n        <h5 ng-if="key!==\'finalPrice\'" class="angular-reservation-h5">{{value}}</h5>\r\n        <h5 ng-if="key===\'finalPrice\'" class="angular-reservation-h5">{{value | currency}}</h5>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal-footer">\r\n    <button class="btn btn-danger" type="button" ng-click="$dismiss()">{{"confirmCancel" | translate}}</button>\r\n    <button class="btn btn-success" type="button" ng-click="$close()">{{"confirmOK" | translate}}</button>\r\n</div>'),e.put("datepicker.html",'<div class="row">\r\n\t<div class="col-md-12">\r\n\t\t<div class="angular-reservation-live"><i class="fa fa-check"></i> Live Availability</div>\r\n\t\t<div uib-datepicker class="angular-reservation-datepicker" ng-model="reservationCtrl.selectedDate" datepicker-options="reservationCtrl.datepickerOptions"></div>\r\n\t</div>\r\n\r\n\t<div class="col-md-12">\r\n\t\t<div class="spacer"></div>\r\n\t\t<div ng-repeat="person in reservationCtrl.details">\r\n\t\t\t<div class="row angular-reservation-padding">\r\n\t\t\t\t<div class="col-md-8">\r\n\t\t\t\t\t{{person.name}} <span class="text-muted ">{{person.price.amount | currency}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-md-4 text-right">\r\n\t\t\t\t \t<div class="btn-group text-left" style="background:none" uib-dropdown>\r\n\t\t\t\t\t\t<button id="split-button" type="button" class="btn btn-sm btn-default">{{reservationCtrl.details[$index].selected}}</button>\r\n\t\t\t      <button type="button" class="btn btn-sm btn-default" uib-dropdown-toggle>\r\n\t\t\t        <span class="caret"></span>\r\n\t\t\t      </button>\r\n\t\t\t      <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">\r\n\t\t\t       <li ng-class="{active : o === person.selected}" ng-repeat="o in reservationCtrl.range(reservationCtrl.details[$index].min, reservationCtrl.details[$index].max)" role="menuitem"><a ng-click="reservationCtrl.details[$parent.$index].selected = o">{{o}}</a></li>\r\n\t\t     \t\t</ul>\r\n\t\t\t    </div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="text-center" style="padding:20px">\r\n\t\t\t<a ng-click="reservationCtrl.onSelectDate(reservationCtrl.selectedDate)" class="btn btn-purchase text-center">Check Availability</a>\r\n\t\t</div>\r\n\t</div>\r\n</div>'),e.put("index.html",'<div class="outlined" ng-init="reservationCtrl.getDetails()">\r\n    <uib-tabset active="reservationCtrl.selectedTab" justified="true" class="angular-reservation-bump">\r\n        <uib-tab index="0" style="border-radius:0;">\r\n            <uib-tab-heading>\r\n                <span class="glyphicon glyphicon-calendar" aria-hidden="true" class="angular-reservation-icon-size"></span>\r\n                <h5 ng-if="reservationCtrl.secondTabLocked">{{"date" | translate}}</h5>\r\n                <h5 ng-if="!reservationCtrl.secondTabLocked">{{reservationCtrl.selectedDate | date: reservationCtrl.dateFormat}}</h5>\r\n            </uib-tab-heading>\r\n            <div class="spacer" ng-if="reservationCtrl.loader"></div>\r\n            <div ng-include="\'loader.html\'" class="text-center" ng-if="reservationCtrl.loader"></div>\r\n            <div ng-include="reservationCtrl.datepickerTemplate"></div>\r\n        </uib-tab>\r\n\r\n        <uib-tab index="1" disable="reservationCtrl.secondTabLocked">\r\n            <uib-tab-heading>\r\n                <span class="glyphicon glyphicon-time" aria-hidden="true" class="angular-reservation-icon-size"></span>\r\n                <h5 ng-if="reservationCtrl.thirdTabLocked">{{"time" | translate}}</h5>\r\n                <h5 ng-if="!reservationCtrl.thirdTabLocked">{{reservationCtrl.selectedHour}}</h5>\r\n                <div ng-if="reservationCtrl.thirdTabLocked" class="visible-md" style="padding-bottom:15px"></div>\r\n                <div ng-if="!reservationCtrl.secondTabLocked && reservationCtrl.thirdTabLocked && reservationCtrl.selectedHour" class="visible-xs angular-reservation-dynamic-padding"></div>\r\n                <div ng-if="!reservationCtrl.secondTabLocked && !reservationCtrl.thirdTabLocked && !reservationCtrl.selectedHour" class="visible-xs angular-reservation-dynamic-padding2"></div>\r\n                <div ng-if="!reservationCtrl.secondTabLocked && !reservationCtrl.selectedHour" class="visible-xs angular-reservation-dynamic-padding2"></div>\r\n                <div ng-if="!reservationCtrl.secondTabLocked && reservationCtrl.selectedHour" class="visible-xs angular-reservation-dynamic-padding5"></div>\r\n            </uib-tab-heading>\r\n\r\n            <div class="spacer" ng-if="reservationCtrl.loader"></div>\r\n            <div ng-include="\'loader.html\'" class="text-center" ng-if="reservationCtrl.loader"></div>\r\n\r\n            <div class="angular-reservation-availableHour" ng-if="!reservationCtrl.loader && reservationCtrl.availableHours.length > 0">\r\n                <div ng-include="reservationCtrl.availableHoursTemplate"></div>\r\n            </div>\r\n\r\n            <div ng-if="!reservationCtrl.loader && (reservationCtrl.availableHours.length == 0 || !reservationCtrl.availableHours.length)">\r\n                <div ng-include="reservationCtrl.noAvailableHoursTemplate"></div>\r\n            </div>\r\n        </uib-tab>\r\n\r\n        <uib-tab index="2" disable="reservationCtrl.thirdTabLocked">\r\n            <uib-tab-heading>\r\n                <span class="glyphicon glyphicon-user" aria-hidden="true" class="angular-reservation-icon-size"></span>\r\n                <h5>{{"client" | translate}}</h5>\r\n                <div ng-if="!reservationCtrl.secondTabLocked" class="visible-md" style="padding-bottom:15px"></div>\r\n                <div ng-if="!reservationCtrl.secondTabLocked && !reservationCtrl" class="visible-xs angular-reservation-dynamic-padding"></div>\r\n                <div ng-if="!reservationCtrl.secondTabLocked && !reservationCtrl.thirdTabLocked" class="visible-xs angular-reservation-dynamic-padding2"></div>\r\n                <div ng-if="!reservationCtrl.secondTabLocked && reservationCtrl.thirdTabLocked" class="visible-xs angular-reservation-dynamic-padding6"></div>\r\n            </uib-tab-heading>\r\n    \r\n            <div ng-if="!reservationCtrl.showSummary">\r\n                <form class="form-horizontal" name="reserveForm" novalidate\r\n                      ng-submit="reserveForm.$valid && reservationCtrl.setSummary(true)">\r\n                    <div class="spacer" ng-if="reservationCtrl.loader"></div>\r\n                    <div ng-include="\'loader.html\'" class="text-center" ng-if="reservationCtrl.loader"></div>\r\n\r\n                    <fieldset ng-if="!reservationCtrl.loader">\r\n                        <div ng-include="reservationCtrl.clientFormTemplate"></div>\r\n                    </fieldset>\r\n                </form>\r\n            </div>\r\n\r\n            <div ng-if="reservationCtrl.showSummary">\r\n                <table class="angular-reservation-table">\r\n                    <tr class="angular-reservation-tr">\r\n                        <td><span class="text-muted">Experience:</span></td>\r\n                        <td class="angular-reservation-td"><span>{{reservationCtrl.details[0].title}}</span></td>\r\n                    </tr>\r\n                    <tr class="angular-reservation-tr">\r\n                        <td><span class="text-muted">Date:</span></td>\r\n                        <td class="angular-reservation-td"><span>{{reservationCtrl.selectedDate | date}}</span></td>\r\n                    </tr>\r\n                    <tr class="angular-reservation-tr">\r\n                        <td><span class="text-muted">Time:</span></td>\r\n                        <td class="angular-reservation-td"><span>{{reservationCtrl.selectedHour}}</span></td>\r\n                    </tr>\r\n                    <tr class="angular-reservation-tr" ng-repeat="(key, value) in reservationCtrl.userData track by $index">\r\n                        <td><span class="text-muted">{{key | translate}}:</span></td>\r\n                        <td class="angular-reservation-td">\r\n                            <span>{{value}}</span>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n\r\n                <div class="modal-footer" style="text-align:left">\r\n                    <div style="padding: 0px 0 40px 10px;">\r\n                        <div ng-repeat="person in reservationCtrl.details">\r\n                            <span ng-if="reservationCtrl.details[$index].selected > 0">{{person.name}} x {{reservationCtrl.details[$index].selected}}</span>\r\n                            <span class="pull-right text-muted" ng-if="reservationCtrl.details[$index].selected > 0">{{(person.price.amount * reservationCtrl.details[$index].selected) | currency}}</span>\r\n                        </div>\r\n                        <hr/>\r\n                        <div class="text-right">\r\n                            <span>Subtotal </span>\r\n                            <span class="text-muted">{{reservationCtrl.hold.price.totalNet.amount | currency}}</span>\r\n                        </div>\r\n                        <div class="text-right" style="padding-bottom:10px">\r\n                            <span>Tax</span>\r\n                            <span class="text-muted">{{reservationCtrl.hold.price.totalTaxes.amount | currency}}</span>\r\n                        </div>\r\n                        <div class="text-right" style="font-size:20px">\r\n                            <span>Total </span>\r\n                            <span class="hijinks-orange">{{reservationCtrl.hold.price.totalGross.amount | currency}}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="text-center">\r\n                        <button class="btn btn-purchase btn-lg" type="button" ng-click="reservationCtrl.reserve(reservationCtrl.selectedDate, reservationCtrl.selectedHour, reservationCtrl.userData)">{{"confirmOK" | translate}}</button>\r\n                        <div style="padding-top:5px"><a class="clickable text-muted" ng-click="reservationCtrl.setSummary(false);">« Edit booking details</a></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </uib-tab>\r\n    </uib-tabset>\r\n</div>\r\n'),e.put("loader.html",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1" width="50px" height="50px" viewBox="0 0 28 28">\r\n    <!-- 28= RADIUS*2 + STROKEWIDTH -->\r\n\r\n    <title>Material design circular activity spinner with CSS3 animation</title>\r\n    <style type="text/css">\r\n        /**************************/\r\n        /* STYLES FOR THE SPINNER */\r\n        /**************************/\r\n\r\n        /*\r\n         * Constants:\r\n         *      RADIUS      = 12.5\r\n         *      STROKEWIDTH = 3\r\n         *      ARCSIZE     = 270 degrees (amount of circle the arc takes up)\r\n         *      ARCTIME     = 1333ms (time it takes to expand and contract arc)\r\n         *      ARCSTARTROT = 216 degrees (how much the start location of the arc\r\n         *                                should rotate each time, 216 gives us a\r\n         *                                5 pointed star shape (it\'s 360/5 * 2).\r\n         *                                For a 7 pointed star, we might do\r\n         *                                360/7 * 3 = 154.286)\r\n         *\r\n         *      SHRINK_TIME = 400ms\r\n         */\r\n\r\n        .qp-circular-loader {\r\n            width:28px;  /* 2*RADIUS + STROKEWIDTH */\r\n            height:28px; /* 2*RADIUS + STROKEWIDTH */\r\n        }\r\n        .qp-circular-loader-path {\r\n            stroke-dasharray: 58.9;  /* 2*RADIUS*PI * ARCSIZE/360 */\r\n            stroke-dashoffset: 58.9; /* 2*RADIUS*PI * ARCSIZE/360 */\r\n            /* hides things initially */\r\n        }\r\n\r\n        /* SVG elements seem to have a different default origin */\r\n        .qp-circular-loader, .qp-circular-loader * {\r\n            -webkit-transform-origin: 50% 50%;\r\n            -moz-transform-origin: 50% 50%;\r\n        }\r\n\r\n        /* Rotating the whole thing */\r\n        @-webkit-keyframes rotate {\r\n            from {-webkit-transform: rotate(0deg);}\r\n            to {-webkit-transform: rotate(360deg);}\r\n        }\r\n        @-moz-keyframes rotate {\r\n            from {-webkit-transform: rotate(0deg);}\r\n            to {-webkit-transform: rotate(360deg);}\r\n        }\r\n        .qp-circular-loader {\r\n            -webkit-animation-name: rotate;\r\n            -webkit-animation-duration: 1568.63ms; /* 360 * ARCTIME / (ARCSTARTROT + (360-ARCSIZE)) */\r\n            -webkit-animation-iteration-count: infinite;\r\n            -webkit-animation-timing-function: linear;\r\n            -moz-animation-name: rotate;\r\n            -moz-animation-duration: 1568.63ms; /* 360 * ARCTIME / (ARCSTARTROT + (360-ARCSIZE)) */\r\n            -moz-animation-iteration-count: infinite;\r\n            -moz-animation-timing-function: linear;\r\n        }\r\n\r\n        /* Filling and unfilling the arc */\r\n        @-webkit-keyframes fillunfill {\r\n            from {\r\n                stroke-dashoffset: 58.8 /* 2*RADIUS*PI * ARCSIZE/360 - 0.1 */\r\n                /* 0.1 a bit of a magic constant here */\r\n            }\r\n            50% {\r\n                stroke-dashoffset: 0;\r\n            }\r\n            to {\r\n                stroke-dashoffset: -58.4 /* -(2*RADIUS*PI * ARCSIZE/360 - 0.5) */\r\n                /* 0.5 a bit of a magic constant here */\r\n            }\r\n        }\r\n        @-moz-keyframes fillunfill {\r\n            from {\r\n                stroke-dashoffset: 58.8 /* 2*RADIUS*PI * ARCSIZE/360 - 0.1 */\r\n                /* 0.1 a bit of a magic constant here */\r\n            }\r\n            50% {\r\n                stroke-dashoffset: 0;\r\n            }\r\n            to {\r\n                stroke-dashoffset: -58.4 /* -(2*RADIUS*PI * ARCSIZE/360 - 0.5) */\r\n                /* 0.5 a bit of a magic constant here */\r\n            }\r\n        }\r\n        @-webkit-keyframes rot {\r\n            from {\r\n                -webkit-transform: rotate(0deg);\r\n            }\r\n            to {\r\n                -webkit-transform: rotate(-360deg);\r\n            }\r\n        }\r\n        @-moz-keyframes rot {\r\n            from {\r\n                -webkit-transform: rotate(0deg);\r\n            }\r\n            to {\r\n                -webkit-transform: rotate(-360deg);\r\n            }\r\n        }\r\n        @-moz-keyframes colors {\r\n            0% {\r\n                stroke: #4285F4;\r\n            }\r\n            25% {\r\n                stroke: #DE3E35;\r\n            }\r\n            50% {\r\n                stroke: #F7C223;\r\n            }\r\n            75% {\r\n                stroke: #1B9A59;\r\n            }\r\n            100% {\r\n                stroke: #4285F4;\r\n            }\r\n        }\r\n\r\n        @-webkit-keyframes colors {\r\n            0% {\r\n                stroke: #4285F4;\r\n            }\r\n            25% {\r\n                stroke: #DE3E35;\r\n            }\r\n            50% {\r\n                stroke: #F7C223;\r\n            }\r\n            75% {\r\n                stroke: #1B9A59;\r\n            }\r\n            100% {\r\n                stroke: #4285F4;\r\n            }\r\n        }\r\n\r\n        @keyframes colors {\r\n            0% {\r\n                stroke: #4285F4;\r\n            }\r\n            25% {\r\n                stroke: #DE3E35;\r\n            }\r\n            50% {\r\n                stroke: #F7C223;\r\n            }\r\n            75% {\r\n                stroke: #1B9A59;\r\n            }\r\n            100% {\r\n                stroke: #4285F4;\r\n            }\r\n        }\r\n        .qp-circular-loader-path {\r\n            -webkit-animation-name: fillunfill, rot, colors;\r\n            -webkit-animation-duration: 1333ms, 5332ms, 5332ms; /* ARCTIME, 4*ARCTIME, 4*ARCTIME */\r\n            -webkit-animation-iteration-count: infinite, infinite, infinite;\r\n            -webkit-animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1), steps(4), linear;\r\n            -webkit-animation-play-state: running, running, running;\r\n            -webkit-animation-fill-mode: forwards;\r\n\r\n            -moz-animation-name: fillunfill, rot, colors;\r\n            -moz-animation-duration: 1333ms, 5332ms, 5332ms; /* ARCTIME, 4*ARCTIME, 4*ARCTIME */\r\n            -moz-animation-iteration-count: infinite, infinite, infinite;\r\n            -moz-animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1), steps(4), linear;\r\n            -moz-animation-play-state: running, running, running;\r\n            -moz-animation-fill-mode: forwards;\r\n        }\r\n\r\n    </style>\r\n\r\n    <!-- 3= STROKEWIDTH -->\r\n    <!-- 14= RADIUS + STROKEWIDTH/2 -->\r\n    <!-- 12.5= RADIUS -->\r\n    <!-- 1.5=  STROKEWIDTH/2 -->\r\n    <!-- ARCSIZE would affect the 1.5,14 part of this... 1.5,14 is specific to\r\n         270 degress -->\r\n    <g class="qp-circular-loader">\r\n        <path class="qp-circular-loader-path" fill="none" d="M 14,1.5 A 12.5,12.5 0 1 1 1.5,14" stroke-width="3" stroke-linecap="round"/>\r\n    </g>\r\n</svg>'),
e.put("noAvailableHours.html",'<span class="angular-reservation-noAvailableHours">{{"noAvailableHours" | translate}}</span>\r\n{{reservationCtrl.availableHoursMessage}}\r\n<div uib-alert class="alert-danger text-center" ng-if="reservationCtrl.reservationStatus == \'Error\'" style="margin-top: 1em">\r\n  <div ng-if="reservationCtrl.reservationMessage">{{reservationCtrl.reservationMessage}}</div>\r\n  <span>Please contact your financial institution for support.</span>\r\n</div>')}]);